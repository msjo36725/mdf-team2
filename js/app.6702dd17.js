(function(){var e={6666:function(e,t,i){"use strict";var s=i(9963),r=i(6252);function a(e,t,i,s,a,n){const o=(0,r.up)("NavigationTop"),l=(0,r.up)("router-view"),c=(0,r.up)("NavigationBottom");return(0,r.wg)(),(0,r.iD)(r.HY,null,[((0,r.wg)(),(0,r.j4)(o,{key:e.$route.fullPath})),(0,r._)("main",null,[(0,r.Wm)(l)]),(0,r.Wm)(c)],64)}var n=i(3577);const o={class:"header"},l={class:"header__content"},c=(0,r._)("img",{src:"/mfd-team2/img/logo/cookingtime_new.svg",alt:"Recipe",class:"logo-img"},null,-1),u={class:"icon"},p={key:0,class:"item"},d=(0,r._)("span",{class:"material-icons-round"},"notifications",-1),m=[d],h={class:"user-container"},_=(0,r._)("button",{class:"button button--green button--small"}," Sign up ",-1),g={class:"login-cointer"},f={class:"profil"},w=["src"],b={class:"user-loggin"};function v(e,t,i,s,a,d){const v=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("header",null,[(0,r._)("div",o,[(0,r._)("div",l,[(0,r._)("div",null,[(0,r.Wm)(v,{to:"/feed"},{default:(0,r.w5)((()=>[c])),_:1})]),(0,r._)("div",u,[a.user?((0,r.wg)(),(0,r.iD)("div",p,m)):(0,r.kq)("",!0),(0,r._)("div",h,[a.user?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(v,{key:0,to:"/register"},{default:(0,r.w5)((()=>[_])),_:1})),(0,r._)("div",g,[(0,r._)("div",f,[a.user?((0,r.wg)(),(0,r.j4)(v,{key:0,to:"/profile"},{default:(0,r.w5)((()=>[(0,r._)("img",{src:a.profileImgUrl,alt:"Profil",class:"profil-img"},null,8,w),(0,r._)("div",b,(0,n.zw)(a.user.username),1)])),_:1})):(0,r.kq)("",!0)])])])])])])])}var y={name:"NavigationTop",data(){return{user:{},active:!1,profileImgUrl:"/mfd-team2/img/profile/profile-placeholder.png"}},mounted(){if(this.user=JSON.parse(window.localStorage.getItem("userData")),this.user)try{this.profileImgUrl=i(7101)("./person"+this.user.id+".jpg")}catch(e){this.profileImgUrl="/mfd-team2/img/profile/profile-placeholder.png"}},methods:{logout(){window.localStorage.removeItem("jwt"),window.localStorage.removeItem("userData"),this.$router.go("/feed")},toggle(){this.active=!this.active}}},k=i(3744);const D=(0,k.Z)(y,[["render",v]]);var I=D;const S={class:"footer"},C={class:"footer__content"},$=(0,r._)("span",{class:"material-icons-round"},"home",-1),P=(0,r._)("span",{class:"material-icons-round"},"search",-1),j=(0,r._)("span",{class:"material-icons-round"},"add_circle_outline",-1),U=(0,r._)("span",{class:"material-icons-round"},"kitchen",-1),x=(0,r._)("span",{class:"material-icons-round"},"event_note",-1);function R(e,t,i,s,a,n){const o=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("footer",S,[(0,r._)("div",C,[(0,r.Wm)(o,{to:{name:"Feed"}},{default:(0,r.w5)((()=>[$])),_:1}),(0,r.Wm)(o,{to:{name:"Search"}},{default:(0,r.w5)((()=>[P])),_:1}),(0,r.Wm)(o,{to:{name:"CreateRecipe"}},{default:(0,r.w5)((()=>[j])),_:1}),(0,r.Wm)(o,{to:{name:""}},{default:(0,r.w5)((()=>[U])),_:1}),(0,r.Wm)(o,{to:{name:""}},{default:(0,r.w5)((()=>[x])),_:1})])])}var T={name:"NavigationBottom"};const q=(0,k.Z)(T,[["render",R]]);var W=q,z={name:"App",components:{NavigationTop:I,NavigationBottom:W},beforeCreate(){this.$store.dispatch("fetchRecipes")}};const M=(0,k.Z)(z,[["render",a]]);var H=M,V=i(2119);const L={class:"wrapper"},A=(0,r._)("h3",null,"Daily Inspiration",-1),E=(0,r._)("h3",null,"Recent Recipes",-1),O=(0,r._)("h3",null,"Popular Chefs",-1);function N(e,t,i,s,a,n){const o=(0,r.up)("SearchBar"),l=(0,r.up)("RecipeCard"),c=(0,r.up)("BaseCarrousel"),u=(0,r.up)("UserCard");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(o),(0,r._)("div",L,[A,(0,r.Wm)(c,{"slide-width":"medium",items:this.$store.state.recipes,"slider-id":"1"},{item:(0,r.w5)((({item:e})=>[(0,r.Wm)(l,{recipe:e,"slide-width":"medium"},null,8,["recipe"])])),_:1},8,["items"])]),E,(0,r.Wm)(c,{"slide-width":"small",items:n.recipes,"slider-id":"2"},{item:(0,r.w5)((({item:e})=>[(0,r.Wm)(l,{recipe:e,"slide-width":"small"},null,8,["recipe"])])),_:1},8,["items"]),O,(0,r.Wm)(c,{"slide-width":"tiny",items:a.users,"slider-id":"3"},{item:(0,r.w5)((({item:e})=>[(0,r.Wm)(u,{user:e},null,8,["user"])])),_:1},8,["items"])],64)}const Y={class:"card__header"},Z=["src","alt"],K={class:"card__overlay"},F={key:0,class:"topleft"},B={class:"topright"},X={class:"recipe-attributes"},J={class:"recipe-attributes__left"},G={key:0,class:"recipe-attributes__left__difficulty"},Q={class:"recipe-attributes__left__ingredients"},ee={class:"recipe-attributes__right"},te={class:"recipe-attributes__rightcook-time"},ie={class:"card__title"},se={class:"card-headline"},re={class:"card__body"},ae=(0,r._)("button",{class:"button button--green"},[(0,r.Uk)("Cook "),(0,r._)("i",{class:"icofont-arrow-right"})],-1),ne={key:0,class:"card__gallery"};function oe(e,t,i,a,o,l){const c=(0,r.up)("RecipeStats"),u=(0,r.up)("RecipeCardSocialButtons"),p=(0,r.up)("router-link"),d=(0,r.up)("RecipeAuthor");return(0,r.wg)(),(0,r.iD)("div",{class:(0,n.C_)(["card",i.slideWidth]),onMousedown:t[0]||(t[0]=(0,s.iM)(((...e)=>l.registerClick&&l.registerClick(...e)),["left"])),onTouchstart:t[1]||(t[1]=(...e)=>l.registerClick&&l.registerClick(...e)),onMouseup:t[2]||(t[2]=(0,s.iM)(((...e)=>l.goToDetails&&l.goToDetails(...e)),["left"])),onTouchend:t[3]||(t[3]=(...e)=>l.goToDetails&&l.goToDetails(...e))},[(0,r._)("div",Y,[(0,r._)("img",{src:o.cardImg,alt:i.recipe.attributes.Title,class:"card__img"},null,8,Z),(0,r._)("div",K,["medium"===i.slideWidth||"large"===i.slideWidth?((0,r.wg)(),(0,r.iD)("div",F,[(0,r.Wm)(c,{recipe:i.recipe},null,8,["recipe"])])):(0,r.kq)("",!0),(0,r._)("div",B,[(0,r.Wm)(u,{recipe:i.recipe},null,8,["recipe"])]),(0,r._)("div",X,[(0,r._)("div",J,[i.recipe.attributes.difficulty.data?((0,r.wg)(),(0,r.iD)("p",G,[(0,r.Uk)((0,n.zw)(i.recipe.attributes.difficulty.data.attributes.Name)+" ",1),(0,r._)("span",{class:(0,n.C_)("emoji-"+i.recipe.id)},null,2)])):(0,r.kq)("",!0),(0,r._)("p",Q,(0,n.zw)(o.numberOfIngredients)+" ingredients",1)]),(0,r._)("div",ee,[(0,r._)("p",te,"🕐 "+(0,n.zw)(i.recipe.attributes.CookTime)+"min",1)])])])]),(0,r._)("div",ie,[(0,r._)("h4",se,[(0,r.Wm)(p,{to:{name:"RecipeDetails",params:{id:i.recipe.id}}},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(i.recipe.attributes.Title),1)])),_:1},8,["to"])]),(0,r._)("div",re,[(0,r.Wm)(d,{author:o.cardAuthor},null,8,["author"]),"medium"===i.slideWidth||"large"===i.slideWidth?((0,r.wg)(),(0,r.j4)(p,{key:0,to:{name:"RecipeDetails",params:{id:i.recipe.id}}},{default:(0,r.w5)((()=>[ae])),_:1},8,["to"])):(0,r.kq)("",!0)]),"full"===i.slideWidth?((0,r.wg)(),(0,r.iD)("div",ne)):(0,r.kq)("",!0)])],34)}const le={class:"recipe-cook"},ce=["src","alt"],ue={class:"cardAuthor"};function pe(e,t,i,s,a,o){const l=(0,r.up)("router-link");return(0,r.wg)(),(0,r.j4)(l,{to:{name:"ProfileDetails",params:{id:i.author.id}}},{default:(0,r.w5)((()=>[(0,r._)("div",le,[(0,r._)("img",{class:"profile-img",src:a.imgSrc,alt:a.imgAlt},null,8,ce),(0,r._)("p",ue,"By "+(0,n.zw)(i.author.attributes.username),1)])])),_:1},8,["to"])}var de={props:["author"],data(){return{imgSrc:"",imgAlt:""}},mounted(){this.imgSrc=i(7101)("./person"+this.author.id+".jpg"),this.imgAlt=this.author.attributes.username}};const me=(0,k.Z)(de,[["render",pe]]);var he=me;const _e={class:"social-stats"},ge={class:"likes"},fe=(0,r._)("span",{class:"material-icons-round likes__icon"},"favorite",-1),we={class:"likes__number"};function be(e,t,i,s,a,o){return(0,r.wg)(),(0,r.iD)("div",_e,[(0,r._)("div",ge,[fe,(0,r._)("span",we,(0,n.zw)(a.numberOfLikes),1)])])}var ve={props:["recipe"],data(){return{numberOfLikes:this.recipe.attributes?.likes.data.length}},mounted(){}};const ye=(0,k.Z)(ve,[["render",be]]);var ke=ye;const De={class:"social-btns"},Ie={key:0,class:"material-icons-round"},Se={key:1,class:"material-icons-round"},Ce=(0,r._)("button",{class:"bookmark"},[(0,r._)("span",{class:"material-icons-round"},"bookmark_border")],-1);function $e(e,t,i,s,a,n){return(0,r.wg)(),(0,r.iD)("div",De,[(0,r._)("button",{onClick:t[0]||(t[0]=e=>n.handleLike()),class:"like"},[a.recipeLiked?((0,r.wg)(),(0,r.iD)("span",Ie,"favorite")):((0,r.wg)(),(0,r.iD)("span",Se,"favorite_border"))]),Ce])}var Pe=i(9669),je=i.n(Pe),Ue={props:["recipe"],data(){return{loggedInUser:JSON.parse(localStorage.getItem("userData")),recipeLiked:!1,recipeLikes:this.recipe.attributes.likes.data}},methods:{handleLike(){if(this.recipeLiked){console.log("Already liked");const e=this.recipeLikes.map((e=>e.id)).indexOf(this.loggedInUser.id);this.recipeLikes.splice(e,1);const t=je().put(`https://team2-recipe-app.herokuapp.com/api/recipes/${this.recipe.id}?populate=likes`,{data:{likes:this.recipeLikes}});this.recipeLiked=!1,console.log(t)}else{const e=je().put(`https://team2-recipe-app.herokuapp.com/api/recipes/${this.recipe.id}?populate=likes`,{data:{likes:this.loggedInUser.id}});this.recipeLiked=!0,console.log(e)}}},mounted(){}};const xe=(0,k.Z)(Ue,[["render",$e]]);var Re=xe,Te={props:["recipe","cardSize","slideWidth"],components:{RecipeAuthor:he,RecipeStats:ke,RecipeCardSocialButtons:Re},data(){return{cardAuthor:this.recipe.attributes.users_permissions_user.data,cardImg:"/mfd-team2/img/food/placeholder.png",numberOfIngredients:this.recipe.attributes.recipe_ingredients.data.length,emoji:"&#128336;",clickTimeStamp:0}},methods:{registerClick(e){this.clickTimeStamp=e.timeStamp},goToDetails(e){e.timeStamp-this.clickTimeStamp<200&&this.$router.push({name:"RecipeDetails",params:{id:this.recipe.id}}),console.log(e.timeStamp-this.clickTimeStamp)}},mounted(){this.recipe.attributes.difficulty.data?.attributes.ImageURL?document.querySelector(".emoji-"+this.recipe.id).innerHTML="&#"+this.recipe.attributes.difficulty.data.attributes.ImageURL+";":console.log("no emoji"),this.recipe.attributes.Image&&(this.cardImg=this.recipe.attributes.Image.data.attributes.formats.medium.url)}};const qe=(0,k.Z)(Te,[["render",oe]]);var We=qe;const ze={class:"tab-box p-regular"},Me={class:"tab-box__tabs"},He=(0,r._)("a",{href:"#"},"Recipes",-1),Ve=[He],Le=(0,r._)("a",{href:"#"},"Ingredients",-1),Ae=[Le],Ee=(0,r._)("a",{href:"#"},"Chefs",-1),Oe=[Ee],Ne={class:"tab-box__content"},Ye=(0,r._)("span",{class:"material-icons-outlined"},"search",-1),Ze=(0,r._)("div",null,[(0,r._)("span",{class:"material-icons-outlined"},"filter_list")],-1),Ke={key:0,class:"tab-box__options"},Fe={key:0},Be={key:1},Xe={key:2},Je={key:0,class:"grid-search"},Ge={key:1,class:"grid-search"},Qe={key:2,class:"user-search"};function et(e,t,i,a,o,l){const c=(0,r.up)("router-link"),u=(0,r.up)("RecipeCard"),p=(0,r.up)("UserCard");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",ze,[(0,r._)("ul",Me,[(0,r._)("li",{onClick:[t[0]||(t[0]=e=>{o.activetab=1,o.isVisible=!1}),t[1]||(t[1]=(...e)=>l.resetSearh&&l.resetSearh(...e))],class:(0,n.C_)([1===o.activetab?"selected":""])},Ve,2),(0,r._)("li",{onClick:[t[2]||(t[2]=e=>{o.activetab=2,o.isVisible=!1}),t[3]||(t[3]=(...e)=>l.resetSearh&&l.resetSearh(...e))],class:(0,n.C_)([2===o.activetab?"selected":""])},Ae,2),(0,r._)("li",{onClick:[t[4]||(t[4]=e=>{o.activetab=3,o.isVisible=!1}),t[5]||(t[5]=(...e)=>l.resetSearh&&l.resetSearh(...e))],class:(0,n.C_)([3===o.activetab?"selected":""])},Oe,2)]),(0,r._)("div",Ne,[(0,r._)("div",null,[(0,r.Wm)(c,{to:"/search"},{default:(0,r.w5)((()=>[Ye])),_:1})]),(0,r.wy)((0,r._)("input",{onKeydown:t[6]||(t[6]=(0,s.D2)((e=>l.goToSearchPage()),["enter"])),onInput:t[7]||(t[7]=e=>o.isVisible=!0),onClick:t[8]||(t[8]=e=>o.isVisible=!1),"onUpdate:modelValue":t[9]||(t[9]=e=>o.search=e),class:"item",onKeyup:t[10]||(t[10]=(...e)=>l.onSearchIngredient&&l.onSearchIngredient(...e)),placeholder:"Search",type:"search"},null,544),[[s.nr,o.search]]),Ze]),o.isVisible?((0,r.wg)(),(0,r.iD)("div",Ke,[1===o.activetab?((0,r.wg)(),(0,r.iD)("ul",Fe,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.filteredRecipe,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.id},[(0,r.Wm)(c,{to:`/recipes/${e.id}`},{default:(0,r.w5)((()=>[(0,r._)("p",null,(0,n.zw)(e.attributes.Title),1)])),_:2},1032,["to"])])))),128))])):(0,r.kq)("",!0),2===o.activetab?((0,r.wg)(),(0,r.iD)("ul",Be,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.allRecipesIngredient,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.id},[(0,r.Wm)(c,{to:`/recipes/${e.id}`},{default:(0,r.w5)((()=>[(0,r._)("p",null,(0,n.zw)(e.attributes.Title),1)])),_:2},1032,["to"])])))),128))])):(0,r.kq)("",!0),3===o.activetab?((0,r.wg)(),(0,r.iD)("ul",Xe,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.filteredUsers,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.id},[(0,r.Wm)(c,{to:`/profile/${e.id}`},{default:(0,r.w5)((()=>[(0,r._)("p",null,(0,n.zw)(e.username),1)])),_:2},1032,["to"])])))),128))])):(0,r.kq)("",!0)])):(0,r.kq)("",!0)]),1===o.activetab?(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",Je,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.filteredRecipe,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id},[(0,r.Wm)(u,{recipe:e},null,8,["recipe"])])))),128))],512)),[[s.F8,i.searchResult]]):(0,r.kq)("",!0),2===o.activetab?(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",Ge,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.allRecipesIngredient,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id},[(0,r.Wm)(u,{recipe:e},null,8,["recipe"])])))),128))],512)),[[s.F8,i.searchResult]]):(0,r.kq)("",!0),3===o.activetab?(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",Qe,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.filteredUsers,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"user-search__user",key:e.id},[(0,r.Wm)(p,{user:e},null,8,["user"])])))),128))],512)),[[s.F8,i.searchResult]]):(0,r.kq)("",!0)],64)}const tt={class:"user-card"},it=["src","alt"],st={class:"user-card__name"};function rt(e,t,i,s,a,o){const l=(0,r.up)("router-link");return(0,r.wg)(),(0,r.j4)(l,{class:"link",to:{name:"ProfileDetails",params:{id:i.user.id}}},{default:(0,r.w5)((()=>[(0,r._)("div",tt,[(0,r._)("img",{class:"user-card__img",src:a.profileImgUrl,alt:a.profileImgAlt},null,8,it),(0,r._)("p",st,(0,n.zw)(i.user.username),1)])])),_:1},8,["to"])}var at={props:["user"],data(){return{profileImgUrl:"",profileImgAlt:"",users:""}},mounted(){try{this.profileImgUrl=i(7101)("./person"+this.user.id+".jpg")}catch(e){this.profileImgUrl="/mfd-team2/img/profile/profile-placeholder.png"}}};const nt=(0,k.Z)(at,[["render",rt]]);var ot=nt,lt={name:"SearchBar",props:["searchResult"],components:{RecipeCard:We,UserCard:ot},data(){return{allUsers:[],allRecipes:[],allRecipesIngredient:[],search:"",isVisible:!1,activetab:1}},computed:{filteredRecipe(){return this.allRecipes.filter((e=>e.attributes.Title.toLowerCase().match(this.search.toLowerCase())))},filteredUsers(){return this.allUsers.filter((e=>e.username.toLowerCase().match(this.search.toLowerCase())))}},async mounted(){null===sessionStorage.getItem("searchInput")?this.search="":this.search=sessionStorage.getItem("searchInput"),window.onunload=function(){sessionStorage.removeItem("searchInput")};try{const e=await je().get("https://team2-recipe-app.herokuapp.com/api/recipes?populate=users_permissions_user,recipe_ingredients.unit,recipe_ingredients.ingredient,equipment,difficulty,likes,Image"),t=await je().get("https://team2-recipe-app.herokuapp.com/api/users"),i=await je().get("https://team2-recipe-app.herokuapp.com/api/recipes?filters[recipe_ingredients][ingredient][Name][$contains]=&populate=*");this.allRecipes=e.data.data,this.allUsers=t.data,this.allRecipesIngredient=i.data.data}catch(e){this.error=e}},created(){window.addEventListener("click",(e=>{this.$el.contains(e.target)||(this.isVisible=!1)}))},methods:{resetSearh(){this.search=""},goToSearchPage(){this.$router.push("/search"),sessionStorage.setItem("searchInput",this.search)},async onSearchIngredient(){const e=await je().get(`https://team2-recipe-app.herokuapp.com/api/recipes?populate=*&filters[recipe_ingredients][ingredient][Name][$contains]=${this.search}`);this.allRecipesIngredient=e.data.data}}};const ct=(0,k.Z)(lt,[["render",et]]);var ut=ct;const pt=["onTouchstartPassive","onMousedownPassive"];function dt(e,t,i,s,a,o){return(0,r.wg)(),(0,r.iD)("div",{class:(0,n.C_)(["slider-container",`slider-${i.sliderId}`])},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.items,(s=>((0,r.wg)(),(0,r.iD)("div",{class:(0,n.C_)(["slide",`slide-slider-${i.sliderId} ${i.slideWidth}`]),key:s.id,onTouchstartPassive:e=>o.touchStart(e,this.items.findIndex((e=>e.id===s.id))),onTouchmovePassive:t[0]||(t[0]=(...e)=>o.touchMove&&o.touchMove(...e)),onTouchend:t[1]||(t[1]=(...e)=>o.touchEnd&&o.touchEnd(...e)),onMousedownPassive:e=>o.touchStart(e,this.items.findIndex((e=>e.id===s.id))),onMousemovePassive:t[2]||(t[2]=(...e)=>o.touchMove&&o.touchMove(...e)),onMouseleave:t[3]||(t[3]=(...e)=>o.touchEnd&&o.touchEnd(...e)),onMouseup:t[4]||(t[4]=(...e)=>o.touchEnd&&o.touchEnd(...e))},[(0,r.WI)(e.$slots,"item",{item:s})],42,pt)))),128))],2)}var mt={props:["slideWidth","items","sliderId"],data(){return{appWidth:0,slider:"fart",slides:[],isDragging:!1,startPosition:0,currentPosition:0,currentTranslate:0,prevTranslate:0,animationID:0,currentIndex:0}},mounted(){this.slider=document.querySelector(".slider-"+this.sliderId),this.getSlides()},updated(){this.getSlides()},methods:{getSlides(){this.slides=Array.from(document.querySelectorAll(".slide-slider-"+this.sliderId)),this.slides.forEach((e=>{const t=e.querySelector("img");t&&t.addEventListener("dragstart",(e=>e.preventDefault()))}))},touchStart(e,t){this.appWidth=document.querySelector(".slide-slider-"+this.sliderId).offsetWidth,this.currentIndex=t,this.startPosition=this.getPositionX(e),this.isDragging=!0,this.animationID=requestAnimationFrame(this.animation),this.slider.classList.add("grabbing")},touchEnd(){this.isDragging=!1,cancelAnimationFrame(this.animationID);const e=this.currentTranslate-this.prevTranslate;e<-100&&this.currentIndex<this.slides.length-1&&(this.currentIndex+=1),e>100&&this.currentIndex>0&&(this.currentIndex-=1),this.setPositionByIndex(),this.slider.classList.remove("grabbing")},touchMove(e){this.isDragging&&(this.currentPosition=this.getPositionX(e),this.currentTranslate=this.prevTranslate+this.currentPosition-this.startPosition)},getPositionX(e){return e.type.includes("mouse")?e.pageX:e.touches[0].clientX},animation(){this.setSliderPosition(),this.isDragging&&requestAnimationFrame(this.animation)},setSliderPosition(){this.slider.style.transform=`translateX(${this.currentTranslate}px)`},setPositionByIndex(){this.currentTranslate=this.currentIndex*-this.appWidth,this.prevTranslate=this.currentTranslate,this.setSliderPosition()}}};const ht=(0,k.Z)(mt,[["render",dt]]);var _t=ht,gt={name:"MainFeed",components:{RecipeCard:We,SearchBar:ut,BaseCarrousel:_t,UserCard:ot},data(){return{users:""}},computed:{recipes(){return this.$store.state.recipes}},mounted(){fetch("https://team2-recipe-app.herokuapp.com/api/users").then((e=>e.json())).then((e=>this.users=e))}};const ft=(0,k.Z)(gt,[["render",N]]);var wt=ft;const bt={class:"profile"},vt={class:"profile__header"},yt=["src","alt"],kt={class:"profile__header__stats"},Dt={class:"profile__username"},It=(0,r.Uk)(" - Log out"),St={class:"profile__text"},Ct=(0,r._)("h3",null,"Take a look at my recipes",-1),$t={class:"profile__recipes"};function Pt(e,t,i,s,a,o){const l=(0,r.up)("router-link"),c=(0,r.up)("RecipeCard");return(0,r.wg)(),(0,r.iD)("div",bt,[(0,r._)("div",vt,[(0,r._)("img",{src:a.profileImgUrl,alt:a.profileImgAlt,class:"profile__img"},null,8,yt),(0,r._)("div",kt,[(0,r._)("p",null,"Recipes: "+(0,n.zw)(o.recipes.length)+" | Likes: 0 | Followers: 0",1)])]),(0,r._)("h1",Dt,(0,n.zw)(a.user.username),1),a.myProfile?((0,r.wg)(),(0,r.iD)("span",{key:0,onClick:t[0]||(t[0]=(...e)=>o.logout&&o.logout(...e))},[a.user?((0,r.wg)(),(0,r.j4)(l,{key:0,to:"/",class:"profile__logout"},{default:(0,r.w5)((()=>[It])),_:1})):(0,r.kq)("",!0)])):(0,r.kq)("",!0),(0,r._)("p",St," Hi there! I am "+(0,n.zw)(a.user.username)+". ",1),Ct,(0,r._)("div",$t,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.recipes,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"profile__recipes__recipe",key:e.id},[(0,r.Wm)(c,{recipe:e,slideWidth:"small"},null,8,["recipe"])])))),128))])])}var jt={components:{RecipeCard:We},props:["id"],data(){return{user:{},profileImgUrl:"/mfd-team2/img/profile/profile-placeholder.png",profileImgAlt:"",loggedIn:!1,myProfile:!1}},computed:{recipes(){return this.$store.state.recipes.filter((e=>e.attributes.users_permissions_user.data.id===this.user.id))}},mounted(){window.localStorage.getItem("jwt")?this.loggedIn=!0:this.loggedIn=!1,this.loggedIn&&(this.id===JSON.parse(localStorage.getItem("userData")).id?this.myProfile=!0:this.id?this.myProfile=!1:this.myProfile=!0),this.loggedIn&&this.myProfile?(this.user=JSON.parse(window.localStorage.getItem("userData")),this.updateProfileImg(this.user.id)):this.fetchPublicProfile()},methods:{logout(){window.localStorage.removeItem("jwt"),window.localStorage.removeItem("userData"),this.$router.go("/feed")},updateProfileImg(e){try{this.profileImgUrl=i(7101)("./person"+e+".jpg")}catch(t){this.profileImgUrl="/mfd-team2/img/profile/profile-placeholder.png"}},fetchPublicProfile(){fetch(`https://team2-recipe-app.herokuapp.com/api/users/${this.id}`).then((e=>e.json())).then((e=>this.user=e)),this.updateProfileImg(this.id)}}};const Ut=(0,k.Z)(jt,[["render",Pt]]);var xt=Ut;const Rt={key:0,class:"recipe"},Tt={class:"recipe__section recipe__section--info"},qt={class:"recipe__description"},Wt=(0,r._)("button",{class:"button button--green button--wide"},"Start Cooking",-1),zt={class:"recipe__section recipe__section--ingredients"},Mt=(0,r._)("h3",null,"Ingredients",-1),Ht={class:"recipe__section recipe__section--equipment"},Vt=(0,r._)("h3",null,"Equipment",-1),Lt={class:"recipe__equipment"};function At(e,t,i,s,a,o){const l=(0,r.up)("RecipeCard"),c=(0,r.up)("router-link"),u=(0,r.up)("RecipeIngredient"),p=(0,r.up)("RecipeEquipment");return a.recipe?((0,r.wg)(),(0,r.iD)("div",Rt,[(0,r._)("section",Tt,[(0,r._)("h1",null,(0,n.zw)(a.recipe.attributes.Title),1),(0,r.Wm)(l,{recipe:a.recipe,slideWidth:"full"},null,8,["recipe"]),(0,r._)("p",qt,(0,n.zw)(a.recipe.attributes.Description),1),(0,r.Wm)(c,{to:{name:"RecipeSteps",params:{id:a.recipe.id}}},{default:(0,r.w5)((()=>[Wt])),_:1},8,["to"])]),(0,r._)("section",zt,[Mt,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.recipe.attributes.recipe_ingredients.data,(e=>((0,r.wg)(),(0,r.j4)(u,{key:e.id,amount:e.attributes.Amount,unit:e.attributes.unit.data.attributes.ShortName,name:e.attributes.ingredient.data.attributes.Name},null,8,["amount","unit","name"])))),128))]),(0,r._)("section",Ht,[Vt,(0,r._)("div",Lt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.recipe.attributes.equipment.data,(e=>((0,r.wg)(),(0,r.j4)(p,{key:e.id,name:e.attributes.Name},null,8,["name"])))),128))])])])):(0,r.kq)("",!0)}const Et={class:"ingredient__card"},Ot={class:"ingredient__info"},Nt={class:"ingredient__name"},Yt={class:"ingredient__amount"};function Zt(e,t,i,s,a,o){return(0,r.wg)(),(0,r.iD)("div",Et,[(0,r._)("div",Ot,[(0,r._)("div",Nt,(0,n.zw)(this.name),1)]),(0,r._)("div",Yt,(0,n.zw)(this.amount)+" "+(0,n.zw)(this.unit),1)])}var Kt={props:["amount","unit","name"]};const Ft=(0,k.Z)(Kt,[["render",Zt]]);var Bt=Ft;const Xt={class:"equipment__card"},Jt={class:"equipment__name"};function Gt(e,t,i,s,a,o){return(0,r.wg)(),(0,r.iD)("div",Xt,[(0,r._)("div",Jt,(0,n.zw)(this.name),1)])}var Qt={props:["name","img"]};const ei=(0,k.Z)(Qt,[["render",Gt]]);var ti=ei,ii={name:"RecipeDetails",props:["id"],components:{RecipeEquipment:ti,RecipeIngredient:Bt,RecipeCard:We},data(){return{recipe:[]}},computed:{},created(){fetch(`https://team2-recipe-app.herokuapp.com/api/recipes/${this.id}?populate=users_permissions_user,recipe_ingredients.unit,recipe_ingredients.ingredient,equipment,difficulty,likes,Image`).then((e=>e.json())).then((e=>this.recipe=e.data))},mounted(){}};const si=(0,k.Z)(ii,[["render",At]]);var ri=si;function ai(e,t,i,s,a,n){const o=(0,r.up)("SearchBar");return(0,r.wg)(),(0,r.j4)(o,{searchResult:!0})}var ni={components:{SearchBar:ut}};const oi=(0,k.Z)(ni,[["render",ai]]);var li=oi;const ci={id:"app"},ui={key:0},pi=(0,r._)("h1",{style:{"text-align":"center"},class:"headline"},"Create your delicious recipe ",-1),di=(0,r._)("label",{for:"Title",class:"form__label"},"Recipe title",-1),mi=(0,r._)("br",null,null,-1),hi=(0,r._)("br",null,null,-1),_i=(0,r._)("label",{class:"form__label"},"Upload image",-1),gi=(0,r._)("button",{type:"button",class:"button button--green button--wide"},"Upload image",-1),fi=(0,r._)("br",null,null,-1),wi=(0,r._)("br",null,null,-1),bi=(0,r._)("label",{for:"Description",class:"form__label"},"Description",-1),vi=(0,r._)("br",null,null,-1),yi=(0,r._)("br",null,null,-1),ki=(0,r._)("label",{class:"form__label"},"Cooking time",-1),Di={class:"flexContainer"},Ii={class:"flexItem"},Si=(0,r._)("label",{class:"form__label form__label--time",for:"timeHouers"},"Hours",-1),Ci={class:"flexItem"},$i=(0,r._)("label",{class:"form__label form__label--time",for:"timeMinutes"},"Minutes",-1),Pi=(0,r._)("br",null,null,-1),ji=(0,r._)("label",{class:"form__label"},"Select meal types",-1),Ui={class:"flexContainer"},xi=["value","id"],Ri=(0,r._)("br",null,null,-1),Ti=(0,r._)("label",{class:"form__label"},"Choose difficulty",-1),qi={class:"flexContainer"},Wi=["value","id"],zi=(0,r._)("br",null,null,-1),Mi=(0,r._)("label",{class:"form__label"},"Select equipment",-1),Hi={class:"flexContainer"},Vi=["value","id"],Li=(0,r._)("br",null,null,-1),Ai=(0,r._)("label",{class:"form__label"},"Select ingredients",-1),Ei=(0,r._)("br",null,null,-1),Oi=(0,r._)("button",{class:"button button--green button--wide"},"Create recipe",-1);function Ni(e,t,i,a,o,l){const c=(0,r.up)("FormAddIngredient");return(0,r.wg)(),(0,r.iD)("div",ci,[o.error?((0,r.wg)(),(0,r.iD)("div",ui,(0,n.zw)(o.error),1)):((0,r.wg)(),(0,r.iD)("form",{key:1,class:"form__card",id:"form",onSubmit:t[7]||(t[7]=(...e)=>l.handleSubmit&&l.handleSubmit(...e))},[pi,di,(0,r.wy)((0,r._)("input",{class:"form__input",id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>o.title=e),type:"text",name:"title"},null,512),[[s.nr,o.title]]),mi,hi,_i,gi,fi,wi,bi,(0,r.wy)((0,r._)("textarea",{class:"form__input",name:"description",id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>o.description=e),cols:"30",rows:"5"},null,512),[[s.nr,o.description]]),vi,yi,ki,(0,r._)("div",Di,[(0,r._)("div",Ii,[Si,(0,r.wy)((0,r._)("input",{class:"form__input",id:"timeHouers","onUpdate:modelValue":t[2]||(t[2]=e=>o.timeHouers=e),type:"number",name:"timeHouers"},null,512),[[s.nr,o.timeHouers]])]),(0,r._)("div",Ci,[$i,(0,r.wy)((0,r._)("input",{class:"form__input",id:"timeMinutes","onUpdate:modelValue":t[3]||(t[3]=e=>o.timeMinutes=e),type:"number",name:"timeMinutes"},null,512),[[s.nr,o.timeMinutes]])])]),Pi,ji,(0,r._)("div",Ui,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.allMealTypes,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"flexItem",key:e.id},[(0,r.wy)((0,r._)("input",{class:"from__input",type:"checkbox",value:e.id,"onUpdate:modelValue":t[4]||(t[4]=e=>o.mealType=e),name:"allMealTypes",id:e.id},null,8,xi),[[s.e8,o.mealType]]),(0,r._)("label",null,(0,n.zw)(e.attributes.Name),1)])))),128))]),Ri,Ti,(0,r._)("div",qi,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.allDifficulties,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"flexItem",key:e.id},[(0,r.wy)((0,r._)("input",{type:"checkbox",value:e.id,"onUpdate:modelValue":t[5]||(t[5]=e=>o.difficulty=e),name:"allDifficulties",id:e.id},null,8,Wi),[[s.e8,o.difficulty]]),(0,r._)("label",null,(0,n.zw)(e.attributes.Name),1)])))),128))]),zi,Mi,(0,r._)("div",Hi,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.allEquipments,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"flexItem",key:e.id},[(0,r.wy)((0,r._)("input",{type:"checkbox",value:e.id,"onUpdate:modelValue":t[6]||(t[6]=e=>o.equipment=e),name:"allEquipments",id:e.id},null,8,Vi),[[s.e8,o.equipment]]),(0,r._)("label",null,(0,n.zw)(e.attributes.Name),1)])))),128))]),Li,Ai,(0,r.Wm)(c,{onCostumChange:l.logChange},null,8,["onCostumChange"]),Ei,Oi],32))])}const Yi={class:"dropdown-wrapper"},Zi={class:"dropdown-popover"},Ki={key:0,class:"options"},Fi=["onClick"],Bi={class:"addIngredientSection"},Xi={class:"grid-item"},Ji={class:"grid-item"},Gi=(0,r._)("label",null,"Amount: ",-1),Qi=["onUpdate:modelValue"],es={class:"grid-item"},ts=(0,r._)("label",null,"Unit: ",-1),is=["onUpdate:modelValue"],ss={class:"wrap-item"},rs=["onClick"],as=(0,r._)("span",{class:"material-icons-outlined"}," close ",-1),ns=[as];function os(e,t,i,a,o,l){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("section",Yi,[(0,r._)("div",Zi,[(0,r.wy)((0,r._)("input",{class:"form__input",type:"text",onClick:t[0]||(t[0]=e=>o.isVisible=!o.isVisible),"onUpdate:modelValue":t[1]||(t[1]=e=>o.search=e),placeholder:"Search ingredient.."},null,512),[[s.nr,o.search]]),o.isVisible?((0,r.wg)(),(0,r.iD)("div",Ki,[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.filteredIngredient,(e=>((0,r.wg)(),(0,r.iD)("li",{onClick:t=>l.selectedIngredient(e,o.showItem),key:e.id},(0,n.zw)(e.attributes.Name),9,Fi)))),128))])])):(0,r.kq)("",!0)])]),(0,r._)("section",Bi,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.showItem,(i=>((0,r.wg)(),(0,r.iD)("div",{class:"grid",key:i.id},[(0,r._)("div",Xi,[(0,r._)("div",null,(0,n.zw)(i.item),1)]),(0,r._)("div",Ji,[Gi,(0,r.wy)((0,r._)("input",{onChange:t[2]||(t[2]=t=>e.$emit("costumChange",t.target.value)),"onUpdate:modelValue":e=>i.amount=e,type:"number"},null,40,Qi),[[s.nr,i.amount]])]),(0,r._)("div",es,[ts,(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":e=>i.unit=e},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.allUnits,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e.id},(0,n.zw)(e.attributes.ShortName),1)))),128))],8,is),[[s.bM,i.unit]])]),(0,r._)("div",ss,[(0,r._)("button",{onClick:e=>l.deleteIngredient(i),type:"button",class:"btnClose"},ns,8,rs)])])))),128))])],64)}var ls={name:"FormAddIngredient",data(){return{search:"",selectedItem:null,isVisible:!1,allIngredients:[],allUnits:[],showItem:[],unit:[],amount:[]}},computed:{filteredIngredient(){return this.allIngredients.filter((e=>e.attributes.Name.toLowerCase().match(this.search)))}},async mounted(){try{const e=await je().get("https://team2-recipe-app.herokuapp.com/api/ingredients");this.allIngredients=e.data.data;const t=await je().get("https://team2-recipe-app.herokuapp.com/api/units");this.allUnits=t.data.data}catch(e){this.error=e}},methods:{selectedIngredient(e,t){this.selectedItem=e.attributes.Name,this.isVisible=!1;let i={};i["item"]=this.selectedItem,t.push(i),console.log(t)},update(e){let t={amount:10};e.push(t)},deleteIngredient(e){this.showItem=this.showItem.filter((t=>e!==t))}}};const cs=(0,k.Z)(ls,[["render",os]]);var us=cs,ps={name:"CreateRecipeView",components:{FormAddIngredient:us},data(){return{allDifficulties:[],allMealTypes:[],allEquipments:[],title:"",description:"",timeMinutes:"",timeHouers:"",mealType:[],difficulty:[],equipment:[],error:null}},async mounted(){alert("Under construction");try{const e=await je().get("https://team2-recipe-app.herokuapp.com/api/meal-types");this.allMealTypes=e.data.data;const t=await je().get("https://team2-recipe-app.herokuapp.com/api/difficulties");this.allDifficulties=t.data.data;const i=await je().get("https://team2-recipe-app.herokuapp.com/api/equipments");this.allEquipments=i.data.data}catch(e){this.error=e}},methods:{handleSubmit:async function(e){e.preventDefault();try{const e=await this.axios.post("http://localhost:1337/api/recipes",{data:{Title:this.title,Description:this.description,CookTime:this.timeMinutes,meal_type:this.mealType,difficulty:this.difficulty,equipment:this.equipment}}).then((e=>this.recipeId=e.data.data.id)).then(console.log(this.recipeId));console.log(e);const t=await this.axios.post("http://localhost:1337/api/recipe-ingredients",{data:{recipe:this.recipeId,Amount:10,unit:1,ingredient:2}});console.log(e),console.log(t)}catch(t){this.error=t}},logChange(e){console.log(e)}}};const ds=(0,k.Z)(ps,[["render",Ni]]);var ms=ds;const hs=(0,r._)("h2",null,"Sign up for the app",-1),_s=(0,r._)("label",{class:"form__label"},"Username",-1),gs={class:"form__error"},fs=(0,r._)("br",null,null,-1),ws=(0,r._)("label",{class:"form__label"},"Email",-1),bs={class:"form__error"},vs=(0,r._)("br",null,null,-1),ys=(0,r._)("label",{class:"form__label"},"Password",-1),ks={class:"form__error"},Ds=(0,r._)("br",null,null,-1),Is=(0,r._)("label",{class:"form__label"},"Confirm Password",-1),Ss={class:"form__error"},Cs=(0,r._)("br",null,null,-1),$s=["disabled"],Ps=(0,r._)("br",null,null,-1),js=(0,r._)("br",null,null,-1),Us={class:"form__link"},xs=(0,r.Uk)("Already have an account? "),Rs=(0,r.Uk)("Log in");function Ts(e,t,i,a,o,l){const c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("form",{class:"form__card",onSubmit:t[4]||(t[4]=(...e)=>l.register&&l.register(...e))},[hs,(0,r._)("div",null,[_s,(0,r.wy)((0,r._)("input",{class:"form__input",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.v$.form.username.$model=e)},null,512),[[s.nr,a.v$.form.username.$model]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.v$.form.username.$errors,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("p",gs,(0,n.zw)(e.$message),1)])))),128))]),fs,(0,r._)("div",null,[ws,(0,r.wy)((0,r._)("input",{class:"form__input",type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>a.v$.form.email.$model=e)},null,512),[[s.nr,a.v$.form.email.$model]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.v$.form.email.$errors,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("p",bs,(0,n.zw)(e.$message),1)])))),128))]),vs,(0,r._)("div",null,[ys,(0,r.wy)((0,r._)("input",{class:"form__input",type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>a.v$.form.password.$model=e)},null,512),[[s.nr,a.v$.form.password.$model]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.v$.form.password.$errors,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("p",ks,(0,n.zw)(e.$message),1)])))),128))]),Ds,(0,r._)("div",null,[Is,(0,r.wy)((0,r._)("input",{class:"form__input",type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>a.v$.form.confirmPassword.$model=e)},null,512),[[s.nr,a.v$.form.confirmPassword.$model]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.v$.form.confirmPassword.$errors,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("p",Ss,(0,n.zw)(e.$message),1)])))),128))]),(0,r.wy)((0,r._)("p",{class:"form__error"},(0,n.zw)(o.errorMsg),513),[[s.F8,o.error]]),Cs,(0,r._)("button",{class:"button button--green button--wide",type:"submit",disabled:a.v$.form.$invalid}," Sign Up ",8,$s),Ps,js,(0,r._)("p",Us,[xs,(0,r.Wm)(c,{to:"/login"},{default:(0,r.w5)((()=>[Rs])),_:1})])],32)])}var qs=i(4028),Ws=i(2587),zs={name:"RegisterPage",setup(){return{v$:(0,qs.ZP)()}},data(){return{form:{username:"",email:"",password:"",confirmPassword:""},errorMsg:"An error occurred. Please try again later.",error:!1}},validations(){return{form:{username:{required:Ws.C1,min:(0,Ws.Ei)(7)},email:{required:Ws.C1,email:Ws.Do},password:{required:Ws.C1,min:(0,Ws.Ei)(7)},confirmPassword:{required:Ws.C1,sameAsPassword:(0,Ws.sH)(this.form.password)}}}},methods:{async register(e){try{e.preventDefault(),await this.axios.post("https://team2-recipe-app.herokuapp.com/api/auth/local/register",{password:this.form.password,email:this.form.email,username:this.form.username}),this.$router.push("/login")}catch(e){this.error=!0}}}};const Ms=(0,k.Z)(zs,[["render",Ts]]);var Hs=Ms;const Vs={class:""},Ls={class:""},As={class:""},Es=(0,r._)("label",{class:"form__label"},"Email",-1),Os=(0,r._)("br",null,null,-1),Ns={class:"form__error"},Ys=(0,r._)("br",null,null,-1),Zs=(0,r._)("label",{class:"form__label"},"Password",-1),Ks=(0,r._)("br",null,null,-1),Fs={class:"form__error"},Bs=(0,r._)("br",null,null,-1),Xs=["disabled"],Js={class:"form__link"},Gs=(0,r.Uk)("Don't have an account? "),Qs=(0,r.Uk)("Sign up");function er(e,t,i,a,o,l){const c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",Vs,[(0,r._)("div",Ls,[(0,r._)("div",As,[(0,r._)("form",{class:"form__card",onSubmit:t[2]||(t[2]=(...e)=>l.login&&l.login(...e))},[(0,r._)("div",{class:(0,n.C_)(["",{error:a.v$.form.email.$errors.length}])},[Es,Os,(0,r.wy)((0,r._)("input",{class:"form__input",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>a.v$.form.email.$model=e)},null,512),[[s.nr,a.v$.form.email.$model]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.v$.form.email.$errors,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("p",Ns,(0,n.zw)(e.$message),1)])))),128))],2),Ys,(0,r._)("div",{class:(0,n.C_)(["",{error:a.v$.form.password.$errors.length}])},[Zs,Ks,(0,r.wy)((0,r._)("input",{class:"form__input",type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>a.v$.form.password.$model=e)},null,512),[[s.nr,a.v$.form.password.$model]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.v$.form.password.$errors,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},[(0,r._)("p",Fs,(0,n.zw)(e.$message),1)])))),128))],2),(0,r.wy)((0,r._)("p",{class:"form__error"},(0,n.zw)(o.errorMsg),513),[[s.F8,o.error]]),Bs,(0,r._)("button",{class:"button button--green button--wide",type:"submit",disabled:a.v$.form.$invalid},"Log in",8,Xs),(0,r._)("p",Js,[Gs,(0,r.Wm)(c,{to:"/register"},{default:(0,r.w5)((()=>[Qs])),_:1})])],32)])])])])}var tr={setup(){return{v$:(0,qs.ZP)()}},name:"LoginPage",data(){return{form:{email:"",password:""},errorMsg:"Email or password was incorrect. Try again.",error:!1}},validations(){return{form:{email:{required:Ws.C1,email:Ws.Do},password:{required:Ws.C1,min:(0,Ws.Ei)(7)}}}},methods:{async login(e){e.preventDefault();try{const e=await this.axios.post("https://team2-recipe-app.herokuapp.com/api/auth/local",{identifier:this.form.email,password:this.form.password}),{jwt:t,user:i}=e.data;window.localStorage.setItem("jwt",t),window.localStorage.setItem("userData",JSON.stringify(i)),this.$router.push("/")}catch(e){this.error=!0}}}};const ir=(0,k.Z)(tr,[["render",er]]);var sr=ir;const rr=(0,r._)("label",{class:"form__label"},"Email",-1),ar=(0,r._)("br",null,null,-1),nr={class:"form__error"},or=(0,r._)("button",{class:"button button--green",type:"submit"},"Reset Password",-1),lr=(0,r._)("br",null,null,-1);function cr(e,t,i,a,o,l){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("form",{class:"form__card",onSubmit:t[1]||(t[1]=(...e)=>l.forgotPassword&&l.forgotPassword(...e))},[(0,r._)("div",null,[rr,(0,r.wy)((0,r._)("input",{class:"form__input",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e)},null,512),[[s.nr,o.email]])]),ar,(0,r.wy)((0,r._)("p",nr,"An error occurred",512),[[s.F8,o.error]]),or,lr,(0,r.wy)((0,r._)("p",null,"Password reset link has been sent to "+(0,n.zw)(o.email),513),[[s.F8,o.done]])],32)])}var ur={name:"ForgotPassword",data(){return{email:"",done:!1,error:!1}},methods:{async forgotPassword(e){e.preventDefault(),this.done=!1,this.error=!1,this.axios.post("https://team2-recipe-app.herokuapp.com/auth/forgot-password",{email:this.email}).then((()=>{this.done=!0})).catch((e=>{this.error=!0}))}}};const pr=(0,k.Z)(ur,[["render",cr]]);var dr=pr;const mr=(0,r._)("h2",null,"Reset Password",-1),hr=(0,r._)("br",null,null,-1),_r=(0,r._)("label",{class:"form__label"},"Password",-1),gr=(0,r._)("br",null,null,-1),fr=(0,r._)("label",{class:"form__label"},"Confirm Password",-1),wr={class:"form__error"},br=(0,r._)("br",null,null,-1),vr=["disabled"];function yr(e,t,i,a,n,o){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("form",{class:"form__card",onSubmit:t[2]||(t[2]=(...e)=>o.resetPassword&&o.resetPassword(...e))},[mr,hr,(0,r._)("div",null,[_r,(0,r.wy)((0,r._)("input",{class:"form__input",type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>n.password=e)},null,512),[[s.nr,n.password]])]),gr,(0,r._)("div",null,[fr,(0,r.wy)((0,r._)("input",{class:"form__input",type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.confirmPassword=e)},null,512),[[s.nr,n.confirmPassword]])]),(0,r.wy)((0,r._)("p",wr,"An error occurred. Please try again.",512),[[s.F8,n.error]]),br,(0,r._)("button",{class:"button button--green",type:"submit",disabled:n.password.length<3||n.password!==n.confirmPassword}," Reset Password ",8,vr)],32)])}var kr={name:"ResetPassword",data(){return{password:"",confirmPassword:"",done:!1,error:!1}},methods:{async resetPassword(e){e.preventDefault(),this.axios.post("https://team2-recipe-app.herokuapp.com/api/auth/reset-password",{code:this.$route.query.code,password:this.password,passwordConfirmation:this.confirmPassword}).then((()=>{this.done=!0,this.$router.push("login")})).catch((e=>{this.error=!0}))}}};const Dr=(0,k.Z)(kr,[["render",yr]]);var Ir=Dr;const Sr={class:"recipe__instructions"},Cr=(0,r._)("h3",null,"Instructions",-1),$r={class:"recipe__steps"},Pr=(0,r._)("button",{class:"button button--green button--small"},"Go Back",-1);function jr(e,t,i,s,a,n){const o=(0,r.up)("router-link"),l=(0,r.up)("RecipeStep");return(0,r.wg)(),(0,r.iD)("section",Sr,[Cr,(0,r._)("div",$r,[(0,r.Wm)(o,{to:{name:"RecipeDetails",params:{id:this.id}}},{default:(0,r.w5)((()=>[Pr])),_:1},8,["to"]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.steps,((e,t)=>((0,r.wg)(),(0,r.j4)(l,{key:e.id,number:t,title:e.attributes.Title,instruction:e.attributes.Instruction},null,8,["number","title","instruction"])))),128))])])}const Ur={class:"step"},xr={class:"step__title"},Rr={class:"step__instructions"};function Tr(e,t,i,s,a,o){return(0,r.wg)(),(0,r.iD)("div",Ur,[(0,r._)("h4",xr," Step "+(0,n.zw)(this.number+1)+": "+(0,n.zw)(this.title),1),(0,r._)("p",Rr,(0,n.zw)(this.instruction),1)])}var qr={props:["title","instruction","number"]};const Wr=(0,k.Z)(qr,[["render",Tr]]);var zr=Wr,Mr={props:["id"],components:{RecipeStep:zr},data(){return{steps:[]}},created(){fetch(`https://team2-recipe-app.herokuapp.com/api/steps?filters[recipe][id][$eq]=${this.id}`).then((e=>e.json())).then((e=>this.steps=e.data))}};const Hr=(0,k.Z)(Mr,[["render",jr]]);var Vr=Hr;const Lr=[{path:"/",alias:"/feed",name:"Feed",component:wt},{path:"/profile",name:"Profile",component:xt},{path:"/profile/:id",name:"ProfileDetails",component:xt,props:!0},{path:"/recipes/:id",name:"RecipeDetails",component:ri,props:!0},{path:"/recipes/:id/steps",name:"RecipeSteps",component:Vr,props:!0},{path:"/search",name:"Search",component:li},{path:"/create-recipe",name:"CreateRecipe",component:ms},{path:"/register",name:"Register",component:Hs},{path:"/login",name:"Login",component:sr},{path:"/forgotpassword",name:"ForgotPassword",component:dr},{path:"/resetpassword",name:"ResetPassword",component:Ir},{path:"/all-jobs",redirect:"/jobs"},{path:"/:catchAll(.*)",name:"Not Found"}],Ar=(0,V.p7)({history:(0,V.PO)("/mfd-team2/"),routes:Lr});var Er=Ar,Or=i(2346),Nr=i(8637),Yr=(0,Nr.MT)({state:{recipes:[]},getters:{},mutations:{fetchRecipes(e,t){e.recipes=t}},actions:{async fetchRecipes({commit:e}){const t=await je().get("https://team2-recipe-app.herokuapp.com/api/recipes?populate=users_permissions_user,recipe_ingredients.unit,recipe_ingredients.ingredient,equipment,difficulty,likes,Image");e("fetchRecipes",t.data.data)}},modules:{}});const Zr=(0,s.ri)(H).use(Yr);Zr.use(Or.Z,je()),Zr.use(Er).mount("#app")},7101:function(e,t,i){var s={"./person1.jpg":3142,"./person10.jpg":9796,"./person11.jpg":2883,"./person12.jpg":8189,"./person13.jpg":7493,"./person14.jpg":7437,"./person2.jpg":5535,"./person24.jpg":401,"./person3.jpg":232,"./person4.jpg":7555,"./person5.jpg":3317,"./person6.jpg":2133,"./person7.jpg":1660,"./person8.jpg":6420,"./person9.jpg":4665};function r(e){var t=a(e);return i(t)}function a(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=a,e.exports=r,r.id=7101},3142:function(e,t,i){"use strict";e.exports=i.p+"img/person1.53bb75e1.jpg"},9796:function(e,t,i){"use strict";e.exports=i.p+"img/person10.d581e5fa.jpg"},2883:function(e,t,i){"use strict";e.exports=i.p+"img/person11.f25f5c2e.jpg"},8189:function(e,t,i){"use strict";e.exports=i.p+"img/person12.4a01937f.jpg"},7493:function(e,t,i){"use strict";e.exports=i.p+"img/person13.b68ed984.jpg"},7437:function(e,t,i){"use strict";e.exports=i.p+"img/person14.b29d9f76.jpg"},5535:function(e,t,i){"use strict";e.exports=i.p+"img/person2.fb458ac0.jpg"},401:function(e,t,i){"use strict";e.exports=i.p+"img/person24.ed5a509e.jpg"},232:function(e,t,i){"use strict";e.exports=i.p+"img/person3.2fd612c2.jpg"},7555:function(e,t,i){"use strict";e.exports=i.p+"img/person4.1a4f7918.jpg"},3317:function(e,t,i){"use strict";e.exports=i.p+"img/person5.25423ad7.jpg"},2133:function(e,t,i){"use strict";e.exports=i.p+"img/person6.44fcddd0.jpg"},1660:function(e,t,i){"use strict";e.exports=i.p+"img/person7.a7b0f81d.jpg"},6420:function(e,t,i){"use strict";e.exports=i.p+"img/person8.91df4992.jpg"},4665:function(e,t,i){"use strict";e.exports=i.p+"img/person9.97d52a52.jpg"}},t={};function i(s){var r=t[s];if(void 0!==r)return r.exports;var a=t[s]={id:s,loaded:!1,exports:{}};return e[s](a,a.exports,i),a.loaded=!0,a.exports}i.m=e,function(){i.amdO={}}(),function(){var e=[];i.O=function(t,s,r,a){if(!s){var n=1/0;for(u=0;u<e.length;u++){s=e[u][0],r=e[u][1],a=e[u][2];for(var o=!0,l=0;l<s.length;l++)(!1&a||n>=a)&&Object.keys(i.O).every((function(e){return i.O[e](s[l])}))?s.splice(l--,1):(o=!1,a<n&&(n=a));if(o){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[s,r,a]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.p="/mfd-team2/"}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,a,n=s[0],o=s[1],l=s[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(r in o)i.o(o,r)&&(i.m[r]=o[r]);if(l)var u=l(i)}for(t&&t(s);c<n.length;c++)a=n[c],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(u)},s=self["webpackChunkrecipe_app"]=self["webpackChunkrecipe_app"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(6666)}));s=i.O(s)})();
//# sourceMappingURL=app.6702dd17.js.map